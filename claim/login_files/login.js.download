define(["dojo/query","dojo/on","dojo/dom","dojo/dom-attr","dojo/dom-style",webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspAjaxDataConfigObj.js?v\x3d"+versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/components/utils.js?v\x3d"+versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspBaseController.js?v\x3d"+versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspShowHideElements.js?v\x3d"+versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspConstants.js?v\x3d"+
versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspCalendarWidget.js?v\x3d"+versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspValidateElements.js?v\x3d"+versionWeb,"dojo/domReady!"],function(m,n,g,p,k,a,d,e,l,f,q,r,t){var c={model:{init:function(){}},controller:{init:function(){c.view.init();c.model.init()},resetSession:function(){a.refreshObject();a.setSubmissionType(f.formSubmit);var b=e.getUrlMapping("resetSession"),c=d.getFormObject("frmLogin");a.setDataToPass(c);
a.setUrl(b.action);a.setAction(b.action);a.setMethod(b.method);e.clearStorage();e.submit(a)},forgotPasswordorUserID:function(){a.refreshObject();a.setSubmissionType(f.formSubmit);var b=e.getUrlMapping("forgotPassword");a.setUrl(b.action);a.setDataToPass(d.getFormDataObject("frmLogin"));a.setAction(b.action);a.setMethod(b.method);e.submit(a)},unlockUserID:function(){a.refreshObject();a.setSubmissionType(f.formSubmit);var b=e.getUrlMapping("renderUnlockUserTemplate");a.setUrl(b.action);a.setDataToPass(d.getFormDataObject("frmLogin"));
a.setAction(b.action);a.setMethod(b.method);e.submit(a)},submitBtn:function(b){a.refreshObject();a.setSubmissionType(f.formSubmit);b=e.getUrlMapping("forgotPasswordStep2");a.setAction(b.action);a.setMethod(b.method);e.submit(a)},showPopup:function(b){g.byId("errorCodeIndicator")&&"true"==g.byId("errorCodeIndicator").value&&d.popup_form("IncompleteUserProfileOverlay",f.overlayBackGroundDivId)},removeErrorBoxOnClick:function(b){},submit:function(b){if(e.validate()||c.controller.validate()){b&&b.preventDefault();
b=d.getFormObject();var h=document.createElement("INPUT");h.id="hiddenExistingClientsFlagID";h.setAttribute("type","hidden");h.setAttribute("name","metaDataMap['isOTPFlag']");h.setAttribute("value","true");b.appendChild(h);a.setDataToPass(b);a.refreshObject();a.setSubmissionType(f.formSubmit);b=e.getUrlMapping("login");h=g.byId("defaultLangId");a.setAction(b.action+""+h.value);a.setMethod(b.method);e.submit(a);document.getElementById("btnLogin").disabled=!0}else b.preventDefault()},submit2:function(b){b=
d.getFormObject();e.clearStorage();a.setDataToPass(b);a.refreshObject();a.setSubmissionType(f.formSubmit);b=e.getUrlMapping("login2");var c=g.byId("defaultLangId");a.setAction(b.action+""+c.value);a.setMethod(b.method);e.submit(a)},closeWindowForgotPassOrUserID:function(){d.hide_form("popupForgotUserIDpwd",f.overlayBackGroundDivId)},validate:function(){var b=!0,a=g.byId("txtUserName").value,d=g.byId("txtPassword").value;""!=a&&null!=a?k.set("txtUserNameDiv","display","none"):(k.set("txtUserNameDiv",
"display","block"),b=!1);""!=d&&null!=d?k.set("txtPasswordDiv","display","none"):(k.set("txtPasswordDiv","display","block"),b=!1);1==b&&(b=c.controller.validateInvalid());return b},validateInvalid:function(){var b=g.byId("txtUserName").value,a=g.byId("txtPassword").value;if(""==b||null==b||""==a||null==a)returnvalue=!1;return!0},hideOverlay:function(){d.hide_form("popupForgotUserIDpwd",f.overlayBackGroundDivId)},validateOnKeyPressTextUsername:function(){k.set("txtUserNameDiv","display","none")},validateOnKeyPressTextPass:function(){k.set("txtPasswordDiv",
"display","none")}},view:{actionElements:"btnLogin btnLogin2 resetSession forgotPasswordorUserID unlockUserID cancelBtn submitBtn overlayYesForgotPassorUserID closeWindowForgotPassOrUserID txtUserName ForgotPasswordUserName txtPassword".split(" "),init:function(){e.init(c.view);e.registerBasicValidations();d.registerEventHandler(c.view.btnLogin,"click",c.controller.validateInvalid);d.registerEventHandler(c.view.btnLogin2,"click",c.controller.submit2);d.registerEventHandler(c.view.closeWindowForgotPassOrUserID,
"click",c.controller.closeWindowForgotPassOrUserID);d.registerEventHandler(c.view.btnLogin,"click",c.controller.submit);d.registerEventHandler(c.view.forgotPasswordorUserID,"click",c.controller.forgotPasswordorUserID);d.registerEventHandler(c.view.resetSession,"click",c.controller.resetSession);d.registerEventHandler(c.view.unlockUserID,"click",c.controller.unlockUserID);d.registerEventHandler(c.view.overlayYesForgotPassorUserID,"click",c.controller.hideOverlay);d.registerEventHandler(c.view.ForgotPasswordUserName,
"click",c.controller.removeErrorBoxOnClick);d.registerEventHandler(c.view.txtUserName,"keypress",c.controller.validateOnKeyPressTextUsername);d.registerEventHandler(c.view.txtPassword,"keypress",c.controller.validateOnKeyPressTextPass)}},init:function(){c.controller.init();l.init();l.addToggleEvents();d.registerEventHandler(c.view.txtUserNameDiv,"keypress",c.controller.validateOnKeyPressTextUsername);d.registerEventHandler(c.view.txtPasswordDiv,"keypress",c.controller.validateOnKeyPressTextPass)}};
return c});