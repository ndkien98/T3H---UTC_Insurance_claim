define("dojo/request/xhr dojo/dom-form dojo/dom-prop dojo/sniff dojo/dom-construct dojo/query dojo/dom dojo/dom-style dojo/dom-attr dojo/on dojo/date dojo/dom-class dojo/string dojo/keys dojo/domReady!".split(" "),function(y,t,z,u,A,f,r,q,d,l,v,n,w,x){var e={isNull_Blank_Undefined:function(a){var b=!0;!a||void 0===a&&""===a||(b=!1);return b},getFormDataObject:function(a){return t.toObject(a)},getFormObject:function(){var a=f("[data-met-formToSubmit]");return 0<a.length?a[0]:null},captureFieldsData:function(a){a=
f("input,textarea,select",a);for(var b=0;b<a.length;b++)e.captureFieldData(a[b])},captureFieldData:function(a){!d.get(a,"type")||"radio"!=d.get(a,"type")&&"checkbox"!=d.get(a,"type")?"select-one"==a.type?d.set(a,"capturedValue",a.selectedIndex):d.set(a,"capturedValue",a.value):a.checked?d.set(a,"capturedValue","true"):d.set(a,"capturedValue","false")},resetFields:function(a){a=f("input,textarea,select",a);for(var b=0;b<a.length;b++)e.resetField(a[b])},resetField:function(a){!d.get(a,"type")||"radio"!=
d.get(a,"type")&&"checkbox"!=d.get(a,"type")?"select-one"==a.type?d.get(a,"capturedValue")?a.options[parseInt(d.get(a,"capturedValue"))].selected="selected":a.options[0].selected="selected":a.value=d.get(a,"capturedValue")?d.get(a,"capturedValue"):"":d.get(a,"capturedValue")&&"true"==d.get(a,"capturedValue")?a.checked=!0:a.checked=!1},getBrowserName:function(){var a="ie opera chrome safari ff mozilla".split(" ");for(i=0;i<a.length;i++)if(u(a[i]))return a[i];return!1},registerEventHandler:function(a,
b,c){null!=a&&l(a,b,c)},popup_form:function(a,b){q.set(b,"display","block");q.set(a,"display","block")},hide_form:function(a,b){""!==b&&q.set(b,"display","none");""!==a&&q.set(a,"display","none")},processTemplate:function(a,b,c){var g=f("[data-met-template]");for(i=0;i<g.length;i++){var e=d.get(g[i],"data-met-template");jsviews.templates(e,g[i].innerHTML)}a=jsviews.render[a](b);c&&c(a)},getDateDifference:function(a,b,c){return v.difference(a,b,c)},formatDecCurrnecy:function(a,b){a=document.getElementById(a);
if(!e.isNull_Blank_Undefined(a)){var c=a.value;if(""!=c){var g=/[^0-9\,]/g,d=c.split(",");switch(b){case "Revert":b=e.countchr(c,",");"0"==d[0]&&1==b&&(a.value=","+d[1]);break;case "format":""!=d[0]&&"0"!=d[0]?(c=c.replace(g,""),c=c.replace(/[,]/g,"."),c=e.currencyGeneric("###,###.##",c),c=c.split("."),a.value=c[0].replace(/[,]/g,".")+","+c[1]):""!=d[1]?(c=c.replace(/[,]/g,"."),c=e.currencyGeneric(".##",c),a.value=c.replace(/[.]/g,",")):","==c&&(a.value="")}a.setAttribute("oldvalue",a.value)}}},commafy:function(a){if(!e.isNull_Blank_Undefined(a)){var b=
a.getAttribute("oldvalue");if(b!==a.value){var c=/[.]/g,g=/[^0-9\,]/g,d=a.value,m=e.doGetCaretPosition(a),p=e.countchr(d,","),f=!0,h;","==d?h="bypass":""==b?h="proceed":null!=d.replace(c,"").match(g)?h="block":e.countchr(d,".")>e.countchr(b,".")?h="block":50<d.split(",")[0].replace(c,"").length?h="block":0===p?h="proceed":1===p?(h="proceed",d.split(",")[0].length<m&&(f=!1)):1<p&&(h="block");if("proceed"==h){var k,c=a.value,c=c.replace(g,"");1===p&&(k=c.split(","),c=k[0]);"0"==(c+"").charAt(0)&&--m;
c=Math.abs(c);g=""!=c&&"0"!=c?e.currencyGeneric("###.###,",(c+"").substring(0,50)):"0"==c?"":c;1===p&&(2<k[1].length&&(k[1]=k[1].substring(0,2)),g=g+","+k[1]);a.value=g;0!=Math.abs(g)?(p=g.split(","),b=b.split(","),c=k=!1,d=e.countchr(b[0],"."),h=e.countchr(p[0],"."),d>h?k=!0:d<h&&(c=!0),f?(c?m+=1:k&&--m,"."==p[0].charAt(m-1)&&--m,e.setCaretPosition(a,m)):0<g.length-m&&(k&&(--m,"."==b[0].charAt(m)&&(m+=1)),e.setCaretPosition(a,m))):a.value="";a.setAttribute("oldvalue",a.value)}else"bypass"==h?a.setAttribute("oldvalue",
a.value):(a.value=b,"block"==h&&--m,e.setCaretPosition(a,m))}}},currencyGeneric:function(a,b){if(!a||isNaN(+b))return b;if(""==b||0==b)return"0.00";b="-"==a.charAt(0)?-b:+b;var c=0>b?b=-b:0,g=a.match(/[^\d\-\+#]/g),d=g&&g[g.length-1]||".",g=g&&g[1]&&g[0]||",";a=a.split(d);b=b.toFixed(a[1]&&a[1].length);var e=a[1]&&a[1].lastIndexOf("0"),f=b.split(".");if(!f[1]||f[1]&&f[1].length<=e)b=(+b).toFixed(e+1);e=a[0].split(g);a[0]=e.join("");var l=a[0]&&a[0].indexOf("0");if(-1<l)for(;f[0].length<a[0].length-
l;)f[0]="0"+f[0];else 0==+f[0]&&(f[0]="");b=b.split(".");b[0]=f[0];if(f=e[1]&&e[e.length-1].length){for(var e=b[0],l="",h=e.length%f,k=0,n=e.length;k<n;k++)l+=e.charAt(k),!((k-h+1)%f)&&k<n-f&&(l+=g);b[0]=l}b[1]=a[1]&&b[1]?d+b[1]:"";return(c?"-":"")+b[0]+b[1]},countchr:function(a,b){var c=0;for(i=0;i<a.length;i++)a.charAt(i)==b&&(c+=1);return c},setCaretPosition:function(a,b){a.value=a.value;if(null!==a){if(a.createTextRange)return a=a.createTextRange(),a.move("character",b),a.select(),!0;if(a.selectionStart||
0===a.selectionStart)return a.focus(),a.setSelectionRange(b,b),!0;a.focus();return!1}},doGetCaretPosition:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},disableFields:function(a){e.isNull_Blank_Undefined(a)?f("input,button,select,textarea").forEach(function(a){d.set(a,"disabled","disabled")}):f("input,button,select,textarea",
a).forEach(function(a){d.set(a,"disabled","disabled")})},registerEventsOnCurrencyFields:function(a){a=a?f("[data-met-currency]",a):f("[data-met-currency]");for(var b=0;b<a.length;b++)l(a[b],"blur",function(a){var b=a.target.value.replace(/[,.]/g,"");a.target.value=b.substr(0,15);e.formatDecCurrnecy(a.target.id,"format")}),l(a[b],"focus",function(a){var b=a.target.value.replace(/[,.]/g,"");a.target.value=b;a.target.value=a.target.value.substr(0,a.target.value.length-2)}),l(a[b],"keypress",function(a){var b=
d.get(a.target,"maxDigitLength");a.target.value.length==b&&x.BACKSPACE!=(a.charCode||a.keyCode)&&a.preventDefault()})},removeError:function(a){f("input,select,textarea,radio,checkbox",a).forEach(function(a){var b=r.byId(d.get(a,"data-met-errorDiv"));null!=b&&(b.innerHTML="",n.remove(a,"ErrorTextbox"))})},toggleMandatoryValidation:function(a,b){null!=a?f("input,select,textarea,radio,checkbox",a).forEach(function(a){b?(d.set(a,"data-met-mand","mandatory"),"select-one"==a.type&&d.set(a,"data-met-checks",
"select")):(d.remove(a,"data-met-mand"),"select-one"==a.type&&d.remove(a,"data-met-checks"))}):f("input,select,textarea,radio,checkbox").forEach(function(a){b?(d.set(a,"data-met-mand","mandatory"),"select-one"==a.type&&d.set(a,"data-met-checks","select")):(d.remove(a,"data-met-mand"),"select-one"==a.type&&d.remove(a,"data-met-checks"))})},getElementFromKey:function(a){return f([name*='"'+a+'"'])[0]},textareaFix:function(){for(var a=f("TEXTAREA"),b=0,c=a.length;b<c;b++)/^[0-9]+$/.test(a[b].getAttribute("maxlength"))&&
(l(a[b],"keypress",function(a){var b=parseInt(a.target.getAttribute("maxlength"),10);if(a.target.value.length>=b)return a.preventDefault(),!1}),l(a[b],"blur",function(a){var b=parseInt(a.target.getAttribute("maxlength"),10);if(a.target.value.length>b)return a.target.value=a.target.value.substr(0,b),!1}))},calculateRealAge:function(a,b){if(e.isNull_Blank_Undefined(a)||e.isNull_Blank_Undefined(b))return"";var c=b.getDate()+32*(b.getMonth()+16*(b.getFullYear()-1700)),d=a.getDate()+32*(a.getMonth()+16*
(a.getFullYear()-1700)),c=Math.floor((c-d)/32/16);(0===b.getFullYear()%100?0!==b.getFullYear()%400:0!==b.getFullYear()%4)&&29===a.getDate()&&1===a.getMonth()&&28===b.getDate()&&1===b.getMonth()&&c++;return 0>c?null:c},calculateActuarialAge:function(a,b,c){if(e.isNull_Blank_Undefined(a)||e.isNull_Blank_Undefined(b))return"";c=b.getDate()+32*(b.getMonth()+16*(b.getFullYear()-1700));var d=a.getDate()+32*(a.getMonth()+16*(a.getFullYear()-1700));c=Math.floor((c-d)/32/16);(0===b.getFullYear()%100?0!==b.getFullYear()%
400:0!==b.getFullYear()%4)&&29===a.getDate()&&1===a.getMonth()&&28===b.getDate()&&1===b.getMonth()&&c++;return 0>c?null:c},registerEventforTrimSpaces:function(){f("input:not([type\x3d'file']),textarea").forEach(function(a){l(a,"blur",function(a){a.target.value=w.trim(a.target.value)})})},getDateObject:function(a){var b=d.get(a,"value"),c=d.get(a,"data-met-dateFormat");if(!e.isNull_Blank_Undefined(c)&&!e.isNull_Blank_Undefined(b)){a=new Date;for(var c=c.split("/"),b=b.split("/"),g=c.length-1;0<=g;g--)switch(c[g]){case "DD":a.setDate(b[g]);
break;case "MM":a.setMonth(b[g]-1);break;case "YYYY":a.setFullYear(b[g])}return a}},getSelectedText:function(a){a=r.byId(a);return-1==a.selectedIndex?null:a.options[a.selectedIndex].text},removeCurrencyFormation:function(){for(var a=f("[data-met-currency]"),b=0;b<a.length;b++){var c=a[b].value.replace(/[,.]/g,"");a[b].value=c;a[b].value=a[b].value.substr(0,a[b].value.length-2)}},addCurrencyFormation:function(){for(var a=f("[data-met-currency]"),b=0;b<a.length;b++){var c=a[b].value.replace(/[,.]/g,
"");a[b].value=c.substr(0,15);e.formatDecCurrnecy(a[b].id,"format")}},getValueOfNode:function(a){return!d.get(a,"type")||"radio"!=d.get(a,"type")&&"checkbox"!=d.get(a,"type")?a.value:a.checked},compareNodeList:function(a,b){if(a.length==b.length){for(var c=0;c<a.length;c++)if(e.getValueOfNode(a[c])!=e.getValueOfNode(b[c]))return!1;return!0}},toggleFields:function(a,b){for(var c=f("input,textarea,select",a),e=0;e<c.length;e++)b?d.set(c[e],"disabled","disabled"):d.remove(c[e],"disabled"),n.remove(c[e],
"ErrorTextbox");a=f("[class\x3d'erroTxt']",a);for(e=0;e<a.length;e++)a[e].innerHTML=""},toggleSpanClass:function(a,b){a=b?f("[class\x3d'mandatory']",a):f("[class\x3d'colan']",a);for(var c=0;c<a.length;c++)b?n.replace(a[c],"colan","mandatory"):n.replace(a[c],"mandatory","colan")},phoneMask:function(a){var b="",c=0;for(i=0;i<a.length;i++)"-"!=a.charAt(i)&&c<a.length-3?(b+="x",c++):b+=a.charAt(i);return b}};return e});