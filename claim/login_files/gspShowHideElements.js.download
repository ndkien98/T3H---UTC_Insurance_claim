define(["dojo/query","dojo/on","dojo/dom","dojo/dom-attr","dojo/dom-style",webResourceURL+"/"+coreFolder+"/WebContent/scripts/gspCore/gspValidateElements.js?v\x3d"+versionWeb,webResourceURL+"/"+coreFolder+"/WebContent/scripts/components/utils.js?v\x3d"+versionWeb,"dojo/domReady!"],function(p,t,n,r,q,l,u){var d={showHideElement:null,showHideAnd:null,showHideOr:null,toggleElements:null,elements:null,getShowHideElements:function(){d.addToggleEvents();if(!l.isNullOrUndefined(d.elements))for(var a=0;a<
d.elements.length;a++){var c=d.elements[a].id,b=r.get(c,"data-met-IdToShowHide"),h=r.get(c,"data-met-IdToAnd"),k=r.get(c,"data-met-IdToOr"),g=null,f=null,e=null;b&&(g=b.split(","));h&&(f=h.split(","));k&&(e=k.split(","));l.isNullOrUndefined(g)||(d.showHideElement[c]=g,t(d.elements[a],"click",d.displayOperation));l.isNullOrUndefined(f)||(d.showHideAnd[c]=f);l.isNullOrUndefined(e)||(d.showHideOr[c]=e)}},displayOperation:function(a){if((a=a.target)&&null!=a.id){var c=a.type;if("checkbox"==c||"radio"==
c)c=n.byId(a.id).checked,d.performCheckboxRadioActionOnClick(c,a)}},performCheckboxRadioActionOnClick:function(a,c){var b,h;if(c&&c.id){h=d.showHideElement[c.id];for(var k=0;k<h.length;k++){var g,f,e;h[k]&&(g=h[k].split(":"));g&&2==g.length&&(g[0]&&(g[0]=g[0].trim()),g[1]&&(g[1]=g[1].trim()),b=n.byId(g[0]),showHideActionType=g[1]);f=d.checkAndElements(c);e=d.checkOrElements(c);if(b&&showHideActionType)if(a&&"show"==showHideActionType&&(null==f||void 0==f||null!=f&&void 0!=f&&f)){if(null==e||"undefined"==
e||null!=e&&"undefined"!=e&&!e)f=d.getAllMandatoryIdsForGivenDiv(b.id),l.modifyHiddenFieldsArray(f,showHideActionType),q.set(b,"display","block")}else if(a&&"hide"==showHideActionType&&(null==f||void 0==f||null!=f&&void 0!=f&&f)){if(null==e||"undefined"==e||null!=e&&"undefined"!=e&&!e)f=d.getAllMandatoryIdsForGivenDiv(b.id),l.modifyHiddenFieldsArray(f,showHideActionType),d.resetFieldValues(b),q.set(b,"display","none")}else if(!a&&"show"==showHideActionType&&(null==f||void 0==f||null!=f&&void 0!=f&&
f)){if(null==e||"undefined"==e||null!=e&&"undefined"!=e&&!e)f=d.getAllMandatoryIdsForGivenDiv(b.id),l.modifyHiddenFieldsArray(f,showHideActionType),q.set(b,"display","none")}else a||"hide"!=showHideActionType||!(null==f||void 0==f||null!=f&&void 0!=f&&f)||null!=e&&"undefined"!=e&&(null==e||"undefined"==e||e)||(f=d.getAllMandatoryIdsForGivenDiv(b.id),l.modifyHiddenFieldsArray(f,showHideActionType),d.resetFieldValues(b),q.set(b,"display","block"))}}},performCheckboxRadioActionOnLoad:function(){var a,
c,b;d.elements=p("[data-met-IdToShowHide]");0!=d.elements.length&&d.getShowHideElements();d.addDisplayNoneFieldsToHiddenElements();if(!l.isNullOrUndefined(d.elements))for(var h=0;h<d.elements.length;h++){element=d.elements[h];b=element.type;var k;if("checkbox"==b||"radio"==b)k=n.byId(element.id).checked;if(element&&element.id){b=d.showHideElement[element.id];for(var g=0;g<b.length;g++){var f,e,m;b[g]&&(f=b[g].split(":"));f&&2==f.length&&(a=n.byId(f[0]),c=f[1]);e=d.checkAndElements(element);m=d.checkOrElements(element);
if(a&&c)if(k&&"show"==c&&(null==e||void 0==e||null!=e&&void 0!=e&&e)){if(null==m||"undefined"==m||null!=m&&"undefined"!=m&&!m)e=d.getAllMandatoryIdsForGivenDiv(a.id),l.modifyHiddenFieldsArray(e,c),q.set(a,"display","block")}else k&&"hide"==c&&(null==e||void 0==e||null!=e&&void 0!=e&&e)&&(null==m||"undefined"==m||null!=m&&"undefined"!=m&&!m)&&(e=d.getAllMandatoryIdsForGivenDiv(a.id),l.modifyHiddenFieldsArray(e,c),d.resetFieldValues(a),q.set(a,"display","none"))}}}},addDisplayNoneFieldsToHiddenElements:function(){var a,
c=dojo.query(".displaynone");if(!l.isNullOrUndefined(c))for(var b=0;b<c.length;b++)c[b]&&c[b].id&&""!=c[b].id.trim()&&(a=d.getAllMandatoryIdsForGivenDiv(c[b].id))&&""!=a.trim()&&l.modifyHiddenFieldsArray(a,"hide")},resetFieldValues:function(a){a=p("[data-met-elementToClear]",a);for(var c=0;c<a.length;c++)switch(a[c].type){case "text":a[c].value="";break;case "radio":a[c].checked=!1;break;case "checkbox":a[c].checked=!1;break;case "select-one":a[c].selectedIndex=0}},getAllMandatoryIdsForGivenDiv:function(a){var c=
"";if(a&&""!=a.trim()){var b=p("[data-met-mand]",a);if(a=p("[data-met-checks]",a))for(var d=0;d<a.length;d++){var k=a[d].name,g=a[d].type;k&&"radio"==g&&(c=""==c.trim()?k:c+","+k)}if(b)for(d=0;d<b.length;d++)(k=b[d].id)&&(c=""==c.trim()?k:c+","+k)}return c},checkAndElements:function(a){var c,b;if(a&&a.id&&(d.showHideAnd&&(c=d.showHideAnd[a.id]),c&&0<c.length))for(a=0;a<c.length;a++){var h=n.byId(c[a]);if(h&&h.type)switch(h.type){case "text":var k=null;h.value&&(k=h.value.trim());b=null!=k&&""!=k?
b&&!1:b&&!0;break;case "radio":case "checkbox":b=b&&h.checked;break;case "select-one":b=-1==h.value?b&&!1:b&&!0}}return b},checkOrElements:function(a){var c,b;if(a&&a.id&&(d.showHideOr&&(c=d.showHideOr[a.id]),c&&0<c.length))for(a=0;a<c.length;a++){var h=n.byId(c[a]);if(h&&h.type)switch(h.type){case "text":var k=null;h.value&&(k=h.value.trim());b=null!=k&&""!=k?b||!1:b||!0;break;case "radio":case "checkbox":b=b||h.checked;break;case "select-one":b=-1==h.value?b||!1:b||!0}}return b},addToggleEvents:function(){if(d.toggleElements)for(var a=
0;a<d.toggleElements.length;a++)switch(d.toggleElements[a].type){case "radio":case "checkbox":t(d.toggleElements[a],"click",d.toggle);break;default:var c;d.toggleElements[a].id&&(c=n.byId(d.toggleElements[a].id));if(c){var b=c.tagName.toLowerCase();b&&"a"==b&&t(d.toggleElements[a],"click",d.toggle)}}},toggle:function(a){a=a.target;var c,b,h,k;a.id&&(c=r.get(a.id,"data-met-IdToToggle"),b=r.get(a.id,"data-met-IdToToggleOr"));c&&(h=c.split(","));b&&(k=b.split(","));if(h&&0<h.length)for(c=0;c<h.length;c++)if(a=
!1,b=h[c]){b=b.trim();var g=n.byId(b);g&&(g.style.display&&"block"==g.style.display?(b=d.getAllMandatoryIdsForGivenDiv(g.id),l.modifyHiddenFieldsArray(b,"hide"),d.resetFieldValues(g),g.style.display="none"):(b=d.getAllMandatoryIdsForGivenDiv(g.id),l.modifyHiddenFieldsArray(b,"show"),g.style.display="block",a=!0));if(a&&k)for(a=0;a<k.length;a++)if(b=k[a])if(b=b.trim(),g=n.byId(b))b=d.getAllMandatoryIdsForGivenDiv(g.id),l.modifyHiddenFieldsArray(b,"hide"),d.resetFieldValues(g),g.style.display="none"}},
init:function(){d.showHideElement=[];d.showHideAction=[];d.showHideAnd=[];d.showHideOr=[];d.elements=p("[data-met-IdToShowHide]");d.toggleElements=p("[data-met-IdToToggle]")}};return d});